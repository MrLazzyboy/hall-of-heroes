# Hall of Heroes API Documentation

## üîπ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ë–∞–∑–æ–≤—ã–π URL**: `http://localhost:5001`

**–§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã**: `YYYY-MM-DD`
**–§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏**: `HH:mm`

## üîπ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/auth`)

### **1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
```http
POST /auth/register
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "email": "user@example.com",
  "password": "securePassword123",
  "username": "JohnDoe"
}
```
#### üîπ **–û—Ç–≤–µ—Ç (200)**
```json
{
  "token": "jwt_token",
  "user": {
    "id": "user_id",
    "username": "JohnDoe",
    "email": "user@example.com",
    "role": "User"
  }
}
```

### **2. –í—Ö–æ–¥**
```http
POST /auth/login
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "email": "user@example.com",
  "password": "securePassword123"
}
```
#### üîπ **–û—Ç–≤–µ—Ç (200)**
```json
{
  "token": "jwt_token",
  "user": {
    "id": "user_id",
    "username": "JohnDoe",
    "email": "user@example.com",
    "role": "User"
  }
}
```

### **3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏**
```http
GET /auth/session
Authorization: Bearer <token>
```
#### üîπ **–û—Ç–≤–µ—Ç (200)**
```json
{
  "userId": "user_id",
  "message": "–°–µ—Å—Å–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞"
}
```

### **4. –í—ã—Ö–æ–¥**
```http
DELETE /auth/session
Authorization: Bearer <token>
```

### **5. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏** (–∞–¥–º–∏–Ω)
```http
PATCH /auth/role
Authorization: Bearer <token>
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "userId": "user_id",
  "role": "Player"
}
```

## üîπ –°–æ–±—ã—Ç–∏—è (`/events`)

### **1. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π**
```http
GET /events
Authorization: Bearer <token>
```
#### üîπ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞**
- `page` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)
- `sort` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (asc/desc)

### **2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è**
```http
POST /events
Authorization: Bearer <token>
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "title": "D&D –ö–∞–º–ø–∞–Ω–∏—è: –ü—Ä–æ–∫–ª—è—Ç—å–µ –°—Ç—Ä–∞–¥–∞",
  "shortDescription": "–ú—Ä–∞—á–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –≤ –ë–∞—Ä–æ–≤–∏–∏",
  "description": "–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏...",
  "organizerInfo": "–û–ø—ã—Ç–Ω—ã–π –º–∞—Å—Ç–µ—Ä, 5 –ª–µ—Ç –æ–ø—ã—Ç–∞",
  "imageUrl": "https://example.com/image.jpg",
  "date": "2024-03-25",
  "startTime": "18:00",
  "endTime": "22:00",
  "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1",
  "price": 2000,
  "discount": 10,
  "maxParticipants": 6,
  "isPrivate": true
}
```

### **3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è**
```http
GET /events/:id
Authorization: Bearer <token>
```

### **4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è**
```http
PUT /events/:id
Authorization: Bearer <token>
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞** (–≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã)
```json
{
  "title": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "price": 2500
}
```

### **5. –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è**
```http
DELETE /events/:id
Authorization: Bearer <token>
```

### **6. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ**
```http
POST /events/:id/invite
Authorization: Bearer <token>
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "userId": "user_id"
}
```

### **7. –û—Ç–≤–µ—Ç –Ω–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ**
```http
POST /events/:id/accept
Authorization: Bearer <token>
```

```http
POST /events/:id/reject
Authorization: Bearer <token>
```

## üîπ –§–∏–ª—å—Ç—Ä—ã

### **1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤**
```http
GET /common/filters
```
#### üîπ **–û—Ç–≤–µ—Ç (200)**
```json
[
  {
    "_id": "filter_id",
    "name": "–°–∏—Å—Ç–µ–º–∞",
    "options": [
      {
        "fullName": "D&D 5e",
        "tagName": "dnd5e"
      }
    ]
  }
]
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞** (–∞–¥–º–∏–Ω)
```http
POST /admin/filters
Authorization: Bearer <token>
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "name": "–°–∏—Å—Ç–µ–º–∞",
  "options": [
    {
      "fullName": "D&D 5e",
      "tagName": "dnd5e"
    },
    {
      "fullName": "Pathfinder 2e",
      "tagName": "pf2e"
    }
  ]
}
```

## üîπ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (`/admin`)

### **1. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
```http
GET /admin/users
Authorization: Bearer <token>
```
#### üîπ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞**
- `page` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)

#### üîπ **–û—Ç–≤–µ—Ç (200)**
```json
{
  "users": [
    {
      "id": "user_id",
      "username": "JohnDoe",
      "email": "user@example.com",
      "role": "Player",
      "roles": ["Master"],
      "isBlocked": false,
      "profile": {
        "avatarUrl": "https://example.com/avatar.jpg",
        "bio": "About me"
      }
    }
  ],
  "pagination": {
    "total": 100,
    "page": 1,
    "pages": 10
  }
}
```

### **2. –û–¥–æ–±—Ä–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è**
```http
POST /admin/events/:id/approve
Authorization: Bearer <token>
```

### **3. –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è**
```http
POST /admin/events/:id/reject
Authorization: Bearer <token>
```

### **4. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```http
PATCH /admin/users/:id/block
Authorization: Bearer <token>
```

### **5. –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
```http
PATCH /admin/users/:id/unblock
Authorization: Bearer <token>
```

## üîπ –ù–æ–≤–æ—Å—Ç–∏

### **1. –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π**
```http
GET /common/news
```
#### üîπ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞**
- `page`: –Ω–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)
- `limit`: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 10)
- `sort`: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (asc/desc)

### **2. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏** (–∞–¥–º–∏–Ω)
```http
POST /admin/news
Authorization: Bearer <token>
Content-Type: application/json
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
```json
{
  "title": "–ù–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ",
  "content": "–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏...",
  "imageUrl": "https://example.com/image.jpg"
}
```

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏** (–∞–¥–º–∏–Ω)
```http
PUT /admin/news/:id
Authorization: Bearer <token>
Content-Type: application/json
```

### **4. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏** (–∞–¥–º–∏–Ω)
```http
DELETE /admin/news/:id
Authorization: Bearer <token>
```

## üîπ –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

- **200** - –£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- **201** - –†–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω
- **400** - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- **401** - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- **403** - –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω
- **404** - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- **429** - –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- **500** - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üîπ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: 5 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 15 –º–∏–Ω—É—Ç
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: 10 —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –≤ —á–∞—Å —Å –æ–¥–Ω–æ–≥–æ IP
- –†–∞–∑–º–µ—Ä JSON: –º–∞–∫—Å–∏–º—É–º 10kb

### –ó–∞–≥–æ–ª–æ–≤–∫–∏
–î–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:
```http
Authorization: Bearer <jwt_token>
Content-Type: application/json
```

## üîπ –°—Ç–∞—Ç—É—Å—ã —Å–æ–±—ã—Ç–∏–π

- `pending` - –û–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è
- `approved` - –û–¥–æ–±—Ä–µ–Ω–æ
- `rejected` - –û—Ç–∫–ª–æ–Ω–µ–Ω–æ
- `archived` - –í –∞—Ä—Ö–∏–≤–µ

## üîπ –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- `Player` - –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `Admin` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–æ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Master`) –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º

## üîπ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`/users`)

### **1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ–±–µ**
```http
GET /users/me
Authorization: Bearer <token>
```
#### üîπ **–û—Ç–≤–µ—Ç (200)**
```json
{
  "id": "user_id",
  "username": "JohnDoe",
  "email": "user@example.com",
  "profile": {
    "firstName": "John",
    "lastName": "Doe",
    "avatarUrl": "https://example.com/avatar.jpg",
    "bio": "About me"
  }
}
```

### **2. –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
```http
GET /users/me/notifications
Authorization: Bearer <token>
```

### **3. –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞**
```http
POST /users/me/avatar
Authorization: Bearer <token>
Content-Type: multipart/form-data
```
#### üîπ **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**
- `file`: –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
